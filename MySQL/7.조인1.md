# SQL - 조인 1 (내부 조인)

### 조인(JOIN)의 개념

조인은 여러 테이블에 흩어져 있는 관련 데이터를 결합하여 하나의 결과로 만드는 작업. 관계형 데이터베이스(RDBMS)의 핵심으로, 외래 키(Foreign Key)를 통해 연결된 테이블들을 조회할 때 사용.

<br>

### 내부 조인 (INNER JOIN)

두 테이블 모두에 데이터가 존재하는(매칭되는) 행만 결합하여 결과에 포함.

| 기능 | 명령어 (Syntax) | 사용 예시 (Example) |
| --- | --- | --- |
| **기본 조인** | `SELECT * FROM [테1] JOIN [테2] ON [조건];` | `SELECT * FROM orders JOIN customers ON orders.customer_id = customers.customer_id;` |
| **특정 컬럼 조회** | `SELECT [테1.컬1], [테2.컬2] FROM ...` | `SELECT orders.order_id, customers.name FROM orders JOIN customers ON ...;` |
| **별칭(Alias) 활용** | `SELECT [T1.컬] FROM [테1] AS T1 JOIN ...` | `SELECT o.order_id, c.name FROM orders o JOIN customers c ON o.customer_id = c.customer_id;` |

<br>

### 조인과 함께 사용하는 구문

조인된 결과는 하나의 거대한 테이블처럼 취급되므로, 앞서 배운 `WHERE`, `ORDER BY`, `GROUP BY` 등을 모두 적용할 수 있음.

| 기능 | 사용 목적 | 예시 (Example) |
| --- | --- | --- |
| **필터링** | 특정 조건을 만족하는 조인 데이터 추출 | `WHERE customers.address = '서울';` |
| **정렬** | 조인 결과를 특정 순서로 정렬 | `ORDER BY orders.order_date DESC;` |
| **집계** | 조인 후 그룹별 통계 계산 | `SELECT c.name, SUM(p.price) FROM ... GROUP BY c.name;` |

<br>

### 핵심 요약 및 주의사항

#### **1. 컬럼명 중복 주의**

여러 테이블을 조인할 때, 테이블 간에 동일한 이름의 컬럼(예: `id`, `name`, `created_at`)이 있을 수 있음. 이때 어떤 테이블의 컬럼인지 명시하지 않으면 `Column 'name' in field list is ambiguous` 에러가 발생하므로 반드시 `테이블명.컬럼명` 또는 `별칭.컬럼명`으로 작성해야함.

#### **2. 내부 조인의 특징 (데이터 유실)**

`INNER JOIN`은 양쪽 테이블에 모두 매칭되는 데이터가 있을 때만 결과가 나옵니다. 만약 주문 기록이 없는 고객이나, 한 번도 판매되지 않은 상품은 `INNER JOIN` 결과에서 제외. (전체 데이터를 보려면 다음 강의인 외부 조인이 필요.)

#### **3. 별칭(Alias) 권장**

테이블 이름이 길어지면 쿼리가 복잡해지므로 `FROM orders o JOIN customers c`와 같이 테이블 별칭을 주는 것이 가독성과 생산성 면에서 훨씬 유리.