# SQL - 뷰 (View)

### 1. 뷰(View)의 개념

뷰는 **"가상의 테이블"**임. 실제 데이터를 저장하고 있는 것이 아니라, `SELECT` 문을 저장해두고 필요할 때마다 호출해서 사용하는 방식. 사용자 입장에서는 일반 테이블과 똑같이 조회가 가능하지만, 물리적인 실체는 쿼리문 그 자체.

<br>

### 2. 뷰 생성 및 삭제 문법

| 기능 | 명령어 (Syntax) | 사용 예시 (Example) |
| --- | --- | --- |
| **뷰 생성** | `CREATE VIEW [뷰이름] AS SELECT ...;` | `CREATE VIEW v_order_details AS SELECT o.id, c.name, p.name FROM ...;` |
| **뷰 조회** | `SELECT * FROM [뷰이름];` | `SELECT * FROM v_order_details WHERE name = '김철수';` |
| **뷰 삭제** | `DROP VIEW [뷰이름];` | `DROP VIEW v_order_details;` |

<br>

### 3. 뷰를 사용하는 이유 
1. **복잡성 해결 (단순화)**: 여러 테이블을 조인하거나 계산식이 복잡한 쿼리를 매번 작성할 필요 없이, 뷰로 만들어두면 단순한 `SELECT * FROM 뷰이름`으로 조회가 가능.
2. **데이터 보안**: 사용자에게 원본 테이블의 모든 컬럼을 보여주지 않고, 필요한 컬럼만 선택해서 뷰로 제공함으로써 민감한 정보(비밀번호, 개인정보 등)를 보호할 수 있음.
3. **재사용성**: 자주 사용되는 공통 쿼리를 뷰로 정의해두면 여러 개발자가 동일한 로직을 공유하여 사용할 수 있어 유지보수가 편리.

<br>

### 4. 뷰 사용 시 주의사항

* **실제 데이터의 부재**: 뷰는 데이터를 직접 가지고 있지 않으므로, 원본 테이블(Base Table)의 데이터가 변경되면 뷰를 통해 보는 데이터도 실시간으로 변경.
* **성능 고려**: 뷰를 호출할 때마다 내부적으로 정의된 `SELECT` 문이 다시 실행. 너무 복잡한 뷰를 중첩해서 사용하면 성능 저하의 원인이 될 수 있음.
* **수정 제약**: 모든 뷰를 통해 데이터를 수정(`INSERT`, `UPDATE`)할 수 있는 것은 아니며, 특히 집계 함수나 `GROUP BY`, `UNION` 등이 포함된 뷰는 조회를 위한 용도로만 사용해야함.

<br>

### 5. 실무 포인트

* **이름 관리**: 뷰인지 테이블인지 구분하기 위해 뷰의 이름 앞에 `v_` 또는 `view_`를 붙이는 관례가 많음.
* **논리적 독립성**: 데이터베이스의 구조가 조금 변경되어도(예: 테이블 컬럼명 변경), 뷰의 쿼리만 수정하면 이 뷰를 사용하는 애플리케이션 코드는 수정하지 않아도 되는 장점이 있음.