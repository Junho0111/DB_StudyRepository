# 데이터베이스 설계 (개념적 모델링)

### 1. 요구사항 분석 (비즈니스 시나리오)
* **회원**: 아이디, 이름, 이메일을 관리한다.
* **상품**: 상품명, 가격, 재고량을 관리한다.
* **주문**: 어떤 회원이 어떤 상품을 언제, 몇 개 주문했는지 관리한다.
* **카테고리**: 상품을 분류하며, 하나의 상품은 여러 카테고리에 속할 수 있고 하나의 카테고리는 여러 상품을 가질 수 있다.

<br>

### 2. 엔티티(Entity) 도출 및 속성 정의

요구사항에서 명사를 추출하여 엔티티를 확정하고, 그에 따른 속성을 나열.

| 엔티티 | 속성 (Attributes) | 식별자 (Candidate PK) |
| --- | --- | --- |
| **회원 (Member)** | 아이디, 이름, 이메일 | 회원번호 (ID) |
| **상품 (Product)** | 상품명, 가격, 재고 | 상품번호 (ID) |
| **주문 (Order)** | 주문일자, 주문상태 | 주문번호 (ID) |
| **카테고리 (Category)** | 카테고리명 | 카테고리번호 (ID) |

<br>

### 3. 관계(Relationship) 설정 실습

엔티티 간의 동사적 연결 고리를 정의하고 차수(Cardinality)를 결정.

1. **회원 ↔ 주문 (1:N)**: 한 회원은 여러 번 주문할 수 있지만, 한 주문은 한 회원에게 귀속됨.
2. **주문 ↔ 상품 (N:M)**: 한 주문에 여러 상품이 담길 수 있고, 한 상품은 여러 주문에 포함될 수 있음.
3. **상품 ↔ 카테고리 (N:M)**: 한 상품이 여러 카테고리에 속할 수 있고(예: 가전, 베스트), 한 카테고리에 여러 상품이 있음.

<br>

### 4. ERD 작성 (개념적 단계)

도출된 엔티티와 관계를 선으로 연결하여 시각화.

* **선택성(Optionality)**: 주문이 없는 회원이 있을 수 있는지(Optional), 주문은 반드시 회원이 있어야 하는지(Mandatory)를 체크.
* **다대다(N:M) 표기**: 개념적 모델링에서는 그대로 N:M으로 표기하여 비즈니스 본질을 파악.

<br>

### 5. 시나리오별 사용 예시 (Scenario & Example)

* **엔티티 및 관계 도출**: "회원-상품-주문 간의 비즈니스 흐름 구조화"
```sql
 개념적 모델링 단계에서는 테이블 생성보다는 엔티티 간의 관계 정립에 집중함
 [회원] (주문한다) -> [주문] - (포함한다) -> [상품]
 회원(1) : 주문(N) 관계 형성
 주문(N) : 상품(M) 관계 형성 (다대다)
```
<br>

* **다대다(N:M) 관계의 발견**: "상품과 카테고리의 유연한 연결"
```sql
 요구사항: '아이폰'은 [전자기기] 카테고리이면서 [애플] 카테고리에 속함
 한 상품이 여러 카테고리에, 한 카테고리가 여러 상품을 가짐을 식별함
 개념 단계: [상품] N <-> M [카테고리]
```
<br>

* **선택성(Optionality) 판단**: "비즈니스 규칙에 따른 필수/선택 관계 정의"
```sql
 규칙 1: 주문은 반드시 회원 정보가 있어야 함 (회원: 필수/Mandatory)
 규칙 2: 회원은 주문 내역이 없을 수도 있음 (주문: 선택/Optional)
 ERD 작성 시 회원이 없으면 주문이 생성되지 않도록 논리적 제약의 기초를 마련함
```
<br>

* **속성(Attribute)의 상세화**: "핵심 식별자와 관리 데이터 정의"
```sql
 회원 엔티티: 회원번호(PK), 로그인ID, 이름, 이메일
 상품 엔티티: 상품번호(PK), 상품명, 단가, 재고수량
 주문 엔티티: 주문번호(PK), 주문일시, 총금액, 주문상태
```
<br>

### 6. 실습 팁 & 체크포인트

* **행위 엔티티를 주목하라**: '회원', '상품' 같은 명확한 실체 외에 **'주문'**처럼 행위로 인해 발생하는 엔티티를 잘 찾아내는 것이 실력임.
* **식별자 전략**: 비즈니스 키(이메일 등) 대신 **시스템용 ID(인공 키)**를 PK로 설정하며, 이것이 실무 표준임.
* **다대다의 위험성**: 실습 단계에서 나타난 **상품-카테고리(N:M)**나 **주문-상품(N:M)** 관계는 논리적 설계로 넘어갈 때 반드시 별도의 '매핑 테이블'이 필요함을 미리 인지해야함.